#!/bin/sh
SCRIPT=$(basename "$0")

function say() {
  echo "$SCRIPT: $*"
}

# convert PEAR package information into partial DETAILS file
function info_to_details() {
  pear remote-info "$1" | gawk -f info_to_details
}

function main() {
  info_to_details Log
}

say 'PEAR to SMGL (Package to Spell) Translation Script'

if [ "$UID" == 0 ]; then
  main "$*"
else
  say 'Enter the root password, please'
  su - -c "DISPLAY=$DISPLAY PATH=$PATH $0 $*"
fi
