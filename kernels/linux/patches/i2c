#!/bin/bash
# by Jose Bernardo Silva <jbernardo@sourcemage.org>
#

DESCRIPTION="i2c 2.8.x Patch"
SHORT="Compatibility with i2c 2.8.x"
HELP="I2C/LM_sensors 2.8.0 changed the i2c interface. This patch allows kernel i2c modules to work with the new i2c, instead of hanging the machine.
http://www.ensicaen.ismra.fr/~delvare/devel/i2c/"
VERSIONS="2.4.25-i2c-2.8.4
2.4.23-i2c-2.8.4
2.4.22-i2c-2.8.4
2.4.21-i2c-2.8.2"
MD5S[0]=c7ffc42716554a7b2fd78418cf991855
MD5S[1]=c8cbe76d0d2c705fc80fbe8e2b02551b
MD5S[2]=f3a2b4be97a0543ec812fe091c7fb083
MD5S[3]=18a6179b80f8b2d305d8b712bd719876

if [[ "$1" == "CONFIG" ]]; then
echo "
SOURCE${COUNTER}=linux-${!PATCH}.patch.gz
SOURCE${COUNTER}_URL=http://www.ensicaen.ismra.fr/~delvare/devel/i2c/linux-${!PATCH%-i2c*}/\$SOURCE${COUNTER}" >> ${SPELL_CONFIG}.DETAILS
source $SCRIPT_DIRECTORY/MD5PATCH
fi
