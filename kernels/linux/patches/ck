#!/bin/bash

DESCRIPTION="Con Kolivas Patch"
SHORT="These are patches designed to improve system responsiveness, with emphasis on desktop pcs"
HELP="NOTE: This is suitable for ordinary not very stressed desktops.
ck1  for Kernel 2.4.20 contains: O(1)B,PE,LL,AA,ALSA,SM,XFS,ACPI
ck14 for Kernel 2.4.19 contains: O(1)B,PE,LL,AA,CC,ALSA,SM,XFS,ACPI, 1000Hz,Autoreg-timeslice

Warning from 2.4.19:
DO NOT ENABLE Compressed Caching with preempt if you are using ext2/3 or vfat filesystems 
Contains: O(1)B,PE,LL,AA,CC,ALSA,SM,XFS,ACPI,1000Hz,Autoreg-timeslice

http://kernel.kolivas.net"

VERSIONS="ck1_2.4.20
ck14_2.4.19"

if [[ "$1" == "CONFIG" ]]; then
echo "
SOURCE${COUNTER}=${!PATCH}.patch.bz2
SOURCE${COUNTER}_URL=http://members.optusnet.com.au/con.man/\$SOURCE${COUNTER}" >> $SPELL_CONFIG

if [[ "${!PATCH}" == "ck14_2.4.19" ]]; then
COUNTER=$((${COUNTER}+1))
echo "
SOURCE${COUNTER}=sDfix_ck14.diff
SOURCE${COUNTER}_URL=http://members.optusnet.com.au/ckolivas/kernel/sDfix_ck14.diff" >> $SPELL_CONFIG
fi

fi
