if [ ! -d /proc/acpid ] ; then
        echo <<EOF

Your current kernel does not have ACPI support enabled. In order
to be able to use the Advanced Configuration and Power Interface
support you need to recompile your kernel with ACPI support enabled.

EOF
fi

if [ ! -a /etc/init.d/acpid.init ] ; then
	cp $SCRIPT_DIRECTORY/acpid.init /etc/init.d/acpid.init
fi

chmod a+x /etc/init.d/acpid.init

for runlev in 2 3 4 5; do
  cd /etc/rc${runlev}.d
  ln -s ../init.d/acpid.init S44acpid
  ln -s ../init.d/acpid.init K66acpid
done

if [ ! -d /etc/acpi ] ; then
	mkdir /etc/acpi
	mkdir /etc/acpi/events
	mkdir /etc/acpi/actions
	cp $SOURCE_DIRECTORY/samples/sample.conf /etc/acpi/events
	cp $SOURCE_DIRECTORY/samples/acpi_handler.sh /etc/acpi/actions
	cp $SOURCE_DIRECTORY/debian/default /etc/acpi/events
	cp $SOURCE_DIRECTORY/debian/default.sh /etc/acpi/
else
	if [ ! -d /etc/acpi/events ] ; then
		mkdir /etc/acpi/events
	fi

	if [ ! -d /etc/acpi/actions ] ; then
		mkdir /etc/acpi/actions
	fi

	if [ ! -a /etc/acpi/events/sample.conf ] ; then
		cp $SOURCE_DIRECTORY/samples/sample.conf /etc/acpi/events
	fi

	if [ ! -a /etc/acpi/actions/acpi_handler.sh ] ; then
		cp $SOURCE_DIRECTORY/samples/acpi_handler.sh /etc/acpi/actions
	fi

	if [ ! -a /etc/acpi/events/default ] ; then
		cp $SOURCE_DIRECTORY/debian/default /etc/acpi/events
	fi

	if [ ! -a /etc/acpi/default.sh ] ; then
		cp $SOURCE_DIRECTORY/debian/default.sh /etc/acpi
	fi

fi

