config_query  DEFAULT_GRUB_TARGET "Would You like GRUB installed onto the MBR of the drive where /boot is located ?" y

if  [  $DEFAULT_GRUB_TARGET  ==  "y"  ]; then
  persistent_add GRUB_TARGET
  GRUB_TARGET=`df /boot | grep dev | cut -d' ' -f1 | cut -b 1-8`
else
  config_query_string GRUB_TARGET "IMPORTANT: Do NOT specify GRUB format any longer !!! Use instead the usual device file :\
for example, /dev/hda for the MBR of the first IDE drive, /dev/hdb1 for the first primary partition of the second IDE drive,\
/dev/sda for the MBR of the first SCSI drive,...etc" "/dev/hda"
fi  &&
# the leading space appears to be critical, hence the escaped quotes:
message  "GRUB is configured to install on ${MESSAGE_COLOR}${GRUB_TARGET}${DEFAULT_COLOR}."

config_query  GRUB_EXT2       "Enable ext2 support in stage 2?"            y  &&
config_query  GRUB_FAT        "Enable FAT16/32 support in stage 2?"        y  &&
config_query  GRUB_FFS        "Enable FFS support in stage 2?"             y  &&
config_query  GRUB_MINIX      "Enable MinixFS support in stage 2?"         y  &&
config_query  GRUB_REISER     "Enable ReiserFS support in stage 2?"        y  &&
config_query  GRUB_REISER4    "Enable Reiser4 support in stage 2? \
(Will disable diskless support and splash image to get it compiling)"	   y  &&
config_query  GRUB_JFS        "Enable IBM's JFS support in stage 2?"       y  &&
config_query  GRUB_XFS        "Enable SGI's XFS support in stage 2?"       y  &&
config_query  GRUB_VSTA       "Enable VSTAFS support in stage 2?"          y  &&
config_query  GRUB_GZIP       "Enable gzip decompression in stage 2?"      y  &&
config_query  GRUB_MD5        "Enable MD5 passwords in stage 2?"           y  &&
config_query  GRUB_PACKET     "Enable packet retransmission?"              n  &&
config_query  GRUB_PCI        "Access PCI directly instead of via BIOS?"   n  &&
config_query  GRUB_3C503      "Enable 3Com 3c503 driver?"                  n  &&
config_query  GRUB_3C503_SH   "Use 3Com 3c503 shared memory mode?"         n  &&
config_query  GRUB_3C503_AUI  "Use 3Com 3c503 AUI?"                        n  &&
config_query  GRUB_3C507      "Enable 3Com 3c507 driver?"                  n  &&
config_query  GRUB_3C509      "Enable 3Com 3c509 driver?"                  n  &&
config_query  GRUB_3C529      "Enable 3Com 3c529 driver?"                  n  &&
config_query  GRUB_3C90x      "Enable 3Com 3c90x driver?"                  n  &&
config_query  GRUB_CS89x0     "Enable CS89x0 driver?"                      n  &&
config_query  GRUB_DAVICOM    "Enable Davicom driver?"                     n  &&
config_query  GRUB_DEPCA      "Enable DEPCA driver?"                       n  &&
config_query  GRUB_EEPRO10    "Enable Intel EtherExpress Pro/10 driver?"   n  &&
config_query  GRUB_EEPRO100   "Enable Intel EtherExpress Pro/100 driver?"  n  &&
config_query  GRUB_EPIC100    "Enable SMC 83c170 EPIC/100 driver?"         n  &&
config_query  GRUB_SMC9000    "Enable SMC 9000 driver?"                    n  &&
config_query  GRUB_EXOS205    "Enable EXOS205 driver?"                     n  &&
config_query  GRUB_NI5010     "Enable Racal-InterLAN NI5010 driver?"       n  &&
config_query  GRUB_NI5210     "Enable Racal-InterLAN NI5210 driver?"       n  &&
config_query  GRUB_NI6510     "Enable Racal-InterLAN NI6510 driver?"       n  &&
config_query  GRUB_LANCE      "Enable Lance PCI PCNet/32 driver?"          y  &&
config_query  GRUB_NE         "Enable Novell NE1000/2000 ISA driver?"      n  &&
config_query  GRUB_NE2000     "Enable Novell NE2000 PCI driver?"           n  &&
config_query  GRUB_NE2100     "Enable Novell NE2100 driver?"               n  &&
config_query  GRUB_NATSEMI    "Enable NatSemi DP8381x driver?"             n  &&
config_query  GRUB_WD         "Enable WD8003/8013, SMC8216/8416 driver?"   n  &&
config_query  GRUB_OTULIP     "Enable old Tulip driver?"                   n  &&
config_query  GRUB_TULIP      "Enable Tulip driver?"                       n  &&
config_query  GRUB_RTL8139    "Enable RealTek 8139 driver?"                n  &&
config_query  GRUB_SIS900     "Enable SIS 900 and SIS 7016 driver?"        y  &&
config_query  GRUB_SK_G16     "Enable Schneider and Koch G16 driver?"      n  &&
config_query  GRUB_TIARA      "Enable Tiara driver?"                       n  &&
config_query  GRUB_VIARHINE   "Enable Via/Rhine-I/II driver?"              y  &&
config_query  GRUB_W89C840    "Enable Winbond W89c840, Compex RL100-ATX?"  n  &&
config_query  GRUB_COMP_FIX   "Enable fix for Compex RL2000 PCI card?"     n  &&
[ "$GRUB_REISER4" = "y" ] || config_query  GRUB_DISKLESS   "Enable diskless operation?"                 y  &&
#config_query  GRUB_DISKLESS   "Enable diskless operation?"                 y  &&
config_query  GRUB_HERCULES   "Enable Hercules terminal support?"          n  &&
config_query  GRUB_SERIAL     "Enable serial terminal support?"            y  &&
config_query  GRUB_LINUX_MEM  "Pass mem= option automatically?"            n
