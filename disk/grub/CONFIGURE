message  "Please tell me where you would like grub installed."
message  "Choices include the MBR of the first drive (hd0),"
message  "the MBR of the second (or later) drive (hd1), (hd2) etc."
message  "or a partition on one of the drives, e.g. (hd0,0)."
config_query  DEFAULT_GRUB_TARGET "Would You like GRUB installed onto the MBR of the first drive?" y

if [ $DEFAULT_GRUB_TARGET == "y" ]; then
  persistent_add GRUB_TARGET
  GRUB_TARGET="(hd0)"
else
  config_query_string GRUB_TARGET "IMPORTANT: use the following format: drive,partition (no spaces)\
to specify a partition, or 'drive' to specify the MBR of a drive. All numbers are 0 based, so the \
first drive is drive '(hd0)', and the first partition is part\ition '(hd0,0)'. I.e. if you want GRUB\
installed on /dev/hda1 (or /dev/sda1 if you have a SCSI system) then you would specify '(hd0,0)' as\
the target drive,par\tition.  Which drive or drive,partition do you want grub installed on.  Be sure\
to include the parenthesis, with NO spaces within the parenthesis.  [e.g. (hd0,\0), (hd0,1), (hd1), (hd1,0), etc.]?" "(hd0)"
fi  &&
# the leading space appears to be critical, hence the escaped quotes:
message  "GRUB is configured to install on $GRUB_TARGET."

config_query  GRUB_EXT2       "Enable ext2 support in stage 2?"            y  &&
config_query  GRUB_FAT        "Enable FAT16/32 support in stage 2?"        y  &&
config_query  GRUB_FFS        "Enable FFS support in stage 2?"             y  &&
config_query  GRUB_MINIX      "Enable MinixFS support in stage 2?"         y  &&
config_query  GRUB_REISER     "Enable ReiserFS support in stage 2?"        y  &&
config_query  GRUB_JFS        "Enable IBM's JFS support in stage 2?"       y  &&
config_query  GRUB_XFS        "Enable SGI's XFS support in stage 2?"       y  &&
config_query  GRUB_VSTA       "Enable VSTAFS support in stage 2?"          y  &&
config_query  GRUB_GZIP       "Enable gzip decompression in stage 2?"      y  &&
config_query  GRUB_MD5        "Enable MD5 passwords in stage 2?"           y  &&
config_query  GRUB_PACKET     "Enable packet retransmission?"              n  &&
config_query  GRUB_PCI        "Access PCI directly instead of via BIOS?"   n  &&
config_query  GRUB_3C503      "Enable 3Com 3c503 driver?"                  y  &&
config_query  GRUB_3C503_SH   "Use 3Com 3c503 shared memory mode?"         n  &&
config_query  GRUB_3C503_AUI  "Use 3Com 3c503 AUI?"                        n  &&
config_query  GRUB_3C507      "Enable 3Com 3c507 driver?"                  y  &&
config_query  GRUB_3C509      "Enable 3Com 3c509 driver?"                  y  &&
config_query  GRUB_3C529      "Enable 3Com 3c529 driver?"                  y  &&
config_query  GRUB_3C90x      "Enable 3Com 3c90x driver?"                  y  &&
config_query  GRUB_CS89x0     "Enable CS89x0 driver?"                      y  &&
config_query  GRUB_DAVICOM    "Enable Davicom driver?"                     y  &&
config_query  GRUB_DEPCA      "Enable DEPCA driver?"                       y  &&
config_query  GRUB_EEPRO10    "Enable Intel EtherExpress Pro/10 driver?"   y  &&
config_query  GRUB_EEPRO100   "Enable Intel EtherExpress Pro/100 driver?"  y  &&
config_query  GRUB_EPIC100    "Enable SMC 83c170 EPIC/100 driver?"         y  &&
config_query  GRUB_SMC9000    "Enable SMC 9000 driver?"                    y  &&
config_query  GRUB_EXOS205    "Enable EXOS205 driver?"                     y  &&
config_query  GRUB_NI5010     "Enable Racal-InterLAN NI5010 driver?"       y  &&
config_query  GRUB_NI5210     "Enable Racal-InterLAN NI5210 driver?"       y  &&
config_query  GRUB_NI6510     "Enable Racal-InterLAN NI6510 driver?"       y  &&
config_query  GRUB_LANCE      "Enable Lance PCI PCNet/32 driver?"          y  &&
config_query  GRUB_NE         "Enable Novell NE1000/2000 ISA driver?"      y  &&
config_query  GRUB_NE2000     "Enable Novell NE2000 PCI driver?"           y  &&
config_query  GRUB_NE2100     "Enable Novell NE2100 driver?"               y  &&
config_query  GRUB_NATSEMI    "Enable NatSemi DP8381x driver?"             y  &&
config_query  GRUB_WD         "Enable WD8003/8013, SMC8216/8416 driver?"   y  &&
config_query  GRUB_OTULIP     "Enable old Tulip driver?"                   y  &&
config_query  GRUB_TULIP      "Enable Tulip driver?"                       y  &&
config_query  GRUB_RTL8139    "Enable RealTek 8139 driver?"                y  &&
config_query  GRUB_SIS900     "Enable SIS 900 and SIS 7016 driver?"        y  &&
config_query  GRUB_SK_G16     "Enable Schneider and Koch G16 driver?"      y  &&
config_query  GRUB_TIARA      "Enable Tiara driver?"                       y  &&
config_query  GRUB_VIARHINE   "Enable Via/Rhine-I/II driver?"              y  &&
config_query  GRUB_W89C840    "Enable Winbond W89c840, Compex RL100-ATX?"  y  &&
config_query  GRUB_COMP_FIX   "Enable fix for Compex RL2000 PCI card?"     y  &&
config_query  GRUB_DISKLESS   "Enable diskless operation?"                 y  &&
config_query  GRUB_HERCULES   "Enable Hercules terminal support?"          n  &&
config_query  GRUB_SERIAL     "Enable serial terminal support?"            y  &&
config_query  GRUB_LINUX_MEM  "Pass mem= option automatically?"            n
