#!/bin/sh
#
#  mountusb  Mounts USB filesytem
#
#               Written for Source Mage GNU/Linux
#
#  Version:  @(#)mountnfs.sh  1.0.0  2003-06-29  Eric Sandall <eric@sandall.us>
#
# SGL-script-version=20030629
# Need to start after proc is mounted (mount) and modutils is loaded
# SGL-START:3 4 5:S20
# SGL-STOP:0 1 2 6:K70

. /etc/init.d/functions

start() {

  if  [  -f  /proc/bus/usb  ]
  then
    echo  -n  "Mounting USB filesystem..."
    mount    -t usbdevfs  usbdevfs  /proc/bus/usb
    evaluate_retval
  else
    echo  -n  "You do not have any USB drivers loaded"
  fi

}


stop() {

  if  [  -f  /proc/bus/usb  ]
  then
    echo     -n "Unmounting USB filesystem... "
    umount   /proc/bus/usb
    evaluate_retval
  fi

}

case "$1" in
  start)  start                           ;;
   stop)  stop                            ;;
      *)  echo  "Usage: $0 {start|stop}"  ;;
esac
