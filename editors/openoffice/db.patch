diff -Naur oo_1.1_src.orig/berkeleydb/prj/d.lst oo_1.1_src/berkeleydb/prj/d.lst
--- oo_1.1_src.orig/berkeleydb/prj/d.lst	2003-07-17 03:13:20.000000000 +1000
+++ oo_1.1_src/berkeleydb/prj/d.lst	2003-10-28 02:27:05.000000000 +1100
@@ -2,21 +2,23 @@
 
 ..\%__SRC%\inc\db_cxx.h %_DEST%\inc%_EXT%\berkeleydb\db_cxx.h
 ..\%__SRC%\inc\db_185.h %_DEST%\inc%_EXT%\berkeleydb\db_185.h
+..\%__SRC%\inc\cxx_common.h %_DEST%\inc%_EXT%\berkeleydb\cxx_common.h
+..\%__SRC%\inc\cxx_except.h %_DEST%\inc%_EXT%\berkeleydb\cxx_except.h
 ..\%__SRC%\inc\db.h %_DEST%\inc%_EXT%\berkeleydb\db.h
 
-..\%__SRC%\lib\libdb32.lib %_DEST%\lib%_EXT%\libdb32.lib
-..\%__SRC%\lib\libdb_java32.lib %_DEST%\lib%_EXT%\libdb_java32.lib
+..\%__SRC%\lib\libdb41.lib %_DEST%\lib%_EXT%\libdb41.lib
+..\%__SRC%\lib\libdb_java41.lib %_DEST%\lib%_EXT%\libdb_java41.lib
 
-..\%__SRC%\lib\libdb-3.2.so %_DEST%\lib%_EXT%\libdb-3.2.so
-..\%__SRC%\lib\libdb_java-3.2.so %_DEST%\lib%_EXT%\libdb_java-3.2.so
-..\%__SRC%\lib\libdb_cxx-3.2.so %_DEST%\lib%_EXT%\libdb_cxx-3.2.so
-
-..\%__SRC%\lib\libdb-3.2.dylib %_DEST%\lib%_EXT%\libdb-3.2.dylib
-..\%__SRC%\lib\libdb_java-3.2.dylib %_DEST%\lib%_EXT%\libdb_java-3.2.dylib
-..\%__SRC%\lib\libdb_cxx-3.2.dylib %_DEST%\lib%_EXT%\libdb_cxx-3.2.dylib
+..\%__SRC%\lib\libdb-4.1.so %_DEST%\lib%_EXT%\libdb-4.1.so
+..\%__SRC%\lib\libdb_java-4.1.so %_DEST%\lib%_EXT%\libdb_java-4.1.so
+..\%__SRC%\lib\libdb_cxx-4.1.so %_DEST%\lib%_EXT%\libdb_cxx-4.1.so
+
+..\%__SRC%\lib\libdb-4.1.dylib %_DEST%\lib%_EXT%\libdb-4.1.dylib
+..\%__SRC%\lib\libdb_java-4.1.dylib %_DEST%\lib%_EXT%\libdb_java-4.1.dylib
+..\%__SRC%\lib\libdb_cxx-4.1.dylib %_DEST%\lib%_EXT%\libdb_cxx-4.1.dylib
 
-..\%__SRC%\bin\libdb32.dll %_DEST%\bin%_EXT%\libdb32.dll
-..\%__SRC%\bin\libdb_java32.dll %_DEST%\bin%_EXT%\libdb_java32.dll
+..\%__SRC%\bin\libdb41.dll %_DEST%\bin%_EXT%\libdb41.dll
+..\%__SRC%\bin\libdb_java41.dll %_DEST%\bin%_EXT%\libdb_java41.dll
 
 ..\%__SRC%\bin\db.jar %_DEST%\bin%_EXT%\db.jar
 
--- oo_1.1_src.orig/berkeleydb/makefile.mk	2003-06-12 19:50:38.000000000 +1000
+++ oo_1.1_src/berkeleydb/makefile.mk	2003-10-28 02:02:29.000000000 +1100
@@ -71,16 +71,16 @@
 
 # --- Files --------------------------------------------------------
 
-TARFILE_NAME=db-3.2.9
+TARFILE_NAME=db-4.1.25
 
 # not needed for win32. comment out when causing problems...
-PATCH_FILE_NAME=db-3.2.9.patch
+PATCH_FILE_NAME=db-4.1.25.patch
 
 .IF "$(GUI)"=="UNX"
 CONFIGURE_DIR=out
 #relative to CONFIGURE_DIR
 CONFIGURE_ACTION=..$/dist$/configure
-CONFIGURE_FLAGS=--enable-cxx --enable-java --enable-dynamic --enable-shared
+CONFIGURE_FLAGS=--enable-cxx --enable-java --enable-dynamic --enable-shared --enable-compat185
 
 BUILD_DIR=$(CONFIGURE_DIR)
 .IF "$(OS)"=="IRIX"
@@ -92,7 +92,7 @@
 
 OUT2LIB=$(BUILD_DIR)$/.libs$/libdb*$(DLLPOST)
 
-OUT2BIN=java$/classes$/db.jar
+OUT2BIN=out$/db.jar
 
 .ENDIF			# "$(GUI)"=="UNX"
 
@@ -114,7 +114,7 @@
 BUILD_ACTION=msdev Berkeley_DB.dsw /useenv /MAKE "db_buildall - RELEASE" /MAKE "db_java - RELEASE"
 .ENDIF
 
-OUT2BIN=java$/classes$/db.jar \
+OUT2BIN=out$/db.jar \
 	$(BUILD_DIR)$/Release$/libdb_java32.dll \
 	$(BUILD_DIR)$/Release$/libdb32.dll
 
@@ -126,10 +126,13 @@
 
 OUT2INC= \
 	$(BUILD_DIR)$/db.h \
-	include$/db_185.h \
-	include$/db_cxx.h
+	out$/db_185.h \
+	out$/db_cxx.h \
+	dbinc$/cxx_common.h \
+	dbinc$/cxx_except.h 
 
-OUT2CLASS=java$/classes$/db.jar
+
+OUT2CLASS=out$/db.jar
 
 # --- Targets ------------------------------------------------------
 
--- oo_1.1_src.orig/berkeleydb/db-4.1.25.patch	1970-01-01 10:00:00.000000000 +1000
+++ oo_1.1_src/berkeleydb/db-4.1.25.patch	2003-10-28 02:02:29.000000000 +1100
@@ -0,0 +1,20 @@
+*** misc/db-4.1.25/fileops/fop_util.c	8 Jan 2003 05:01:56 -0000	1.57
+--- misc/build/db-4.1.25/fileops/fop_util.c	12 Jan 2003 19:44:29 -0000	1.58
+***************
+*** 40,46 ****
+  	u_int32_t __lockval;						\
+  									\
+  	if (LOCKING_ON((ENV))) {					\
+! 		__lockval = 0;						\
+  		__dbt.data = &__lockval;				\
+  		__dbt.size = sizeof(__lockval);				\
+  		if ((ret = (ENV)->lock_get((ENV), (ID),			\
+--- 40,46 ----
+  	u_int32_t __lockval;						\
+  									\
+  	if (LOCKING_ON((ENV))) {					\
+! 		__lockval = 1;						\
+  		__dbt.data = &__lockval;				\
+  		__dbt.size = sizeof(__lockval);				\
+  		if ((ret = (ENV)->lock_get((ENV), (ID),			\
+
--- oo_1.1_src.orig/scp/source/office/files.scp	2003-08-29 02:01:05.000000000 +1000
+++ oo_1.1_src/scp/source/office/files.scp	2003-10-28 02:40:25.000000000 +1100
@@ -965,7 +965,7 @@
         Styles          = (PACKED);
         Dir             = GID_DIR_PROGRAM;
         #ifdef UNX
-        Name            = STRING(CONCAT2(libdb-3.2,UNXSUFFIX));
+        Name            = STRING(CONCAT2(libdb-4.1,UNXSUFFIX));
         #else
         Name            = "libdb32.dll";
         #endif
@@ -978,7 +978,7 @@
         Styles          = (PACKED);
         Dir             = GID_DIR_PROGRAM;
         #ifdef UNX
-        Name            = STRING(CONCAT2(libdb_java-3.2,UNXSUFFIX));
+        Name            = STRING(CONCAT2(libdb_java-4.1,UNXSUFFIX));
         #else
         Name            = "libdb_java32.dll";
         #endif
--- oo_1.1_src.orig/solenv/inc/libs.mk	2003-07-02 23:43:33.000000000 +1000
+++ oo_1.1_src/solenv/inc/libs.mk	2003-10-28 02:46:38.000000000 +1100
@@ -176,8 +176,8 @@
 ZLIB3RDLIB=-lzlib
 JPEG3RDLIB=-ljpeglib
 NEON3RDLIB=-lneon
-BERKELEYLIB=-ldb-3.2
-BERKELEYCPPLIB=-ldb_cxx-3.2
+BERKELEYLIB=-ldb-4.1
+BERKELEYCPPLIB=-ldb_cxx-4.1
 CURLLIB=-lcurl
 SFX2LIB=-lsfx$(OFFICEUPD)$(DLLPOSTFIX)
 SFXLIB=-lsfx$(OFFICEUPD)$(DLLPOSTFIX)
@@ -341,7 +341,7 @@
 ZLIB3RDLIB=$(LIBPRE) zlib.lib
 JPEG3RDLIB=$(LIBPRE) jpeglib.lib
 NEON3RDLIB=$(LIBPRE) neon.lib
-BERKELEYLIB=$(LIBPRE) libdb32.lib
+BERKELEYLIB=$(LIBPRE) libdb41.lib
 BERKELEYCPPLIB=
 CURLLIB=$(LIBPRE) libcurl.lib
 CHAOSLIB=$(LIBPRE) ichaos.lib
